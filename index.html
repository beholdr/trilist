<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Trilist</title>

  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%220.9em%22 font-size=%22120%22>☘️</text></svg>">
  <style>
    html {
      /*
      --trilist-placholder-color: #999;
      --trilist-border-color: #999;
      --trilist-border-hover-color: #777;
      --trilist-border-radius: 0;
      */
    }

    #app {
      margin: 1.5em auto;
      max-width: 1200px;
      display: grid;
      grid-auto-flow: column;
      gap: 1.5em;
    }
  </style>
</head>

<body>
  <div id="app">
    <trilist-view id="trilist-1" tree-controls></trilist-view>
    <trilist-view id="trilist-2"></trilist-view>
    <trilist-select id="trilist-3" placeholder="Выберите..." tree-controls></trilist-select>
    <trilist-select id="trilist-4"></trilist-select>
  </div>

  <script type="module" src="/src/main.ts"></script>

  <script>
    const tree1 = [
      {
        id: 1,
        label: "Category 1",
        children: [
          { id: "11", label: "Leaf 11" },
          { id: "12", label: "Leaf 12" },
        ],
      },
      {
        id: "2",
        label: "Category 2",
        children: [
          { id: "11", label: "Leaf 11" },
          {
            id: "21", label: "Category 21", children: [
              { id: "11", label: "Leaf 11" },
              { id: "211", label: "Leaf 211" },
              { id: "212", label: "Leaf 212" },
            ]
          },
        ],
      },
      {
        id: "3",
        label: "Category 3"
      },
      {
        id: "4",
        label: "Category 4",
        children: [
          { id: "41", label: "Leaf 41" },
          { id: "42", label: "Leaf 42" }
        ]
      },
    ];
    const tree2 = JSON.parse(JSON.stringify(tree1))
    tree2.push({ id: 5, label: "Category 5" })

    /* const tree = []
    for (let i = 1; i < 100; i++) {
      const item = {
        id: i,
        label: 'Category ' + i,
        children: []
      }


      for (let ii = 1; ii < 50; ii++) {
        item.children.push({
          id: `l-${i}-${ii}`,
          label: 'Label ' + ii
        })
      }

      tree.push(item)
    } */

    const el1 = document.getElementById('trilist-1')
    el1.addEventListener('connect', (e) => {
      e.detail.el.init({
        items: tree1,
        selected: ['3', '42'],
        expanded: ['4']
      })
    })
    el1.addEventListener('select', (e) => console.log({ select: e }))

    const el2 = document.getElementById('trilist-2')
    el2.addEventListener('connect', (e) => {
      e.detail.el.init({
        items: tree2
      })
    })

    const el3 = document.getElementById('trilist-3')
    el3.addEventListener('connect', (e) => {
      e.detail.el.init({
        items: tree1
      })
    })
    el3.addEventListener('select', (e) => console.log({ select: e }))

    const el4 = document.getElementById('trilist-4')
    el4.addEventListener('connect', (e) => {
      e.detail.el.init({
        items: tree2
      })
    })
  </script>
</body>

</html>
